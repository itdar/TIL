# 객체지향의 사실과 오해 (The Essence of Object-Orientation)
## 역할, 책임, 협력 관점에서 본 객체지향
## Roles, Responsibilities, and Collaborations

---

## 1. 협력하는 객체들의 공동체

- 역할, 책임, 협력
- 역할은 기대되는 책임이 있고, 각 역할들이 협력해서 원하는 것들을 해낸다.
    1. 동일한 역할 중복 가능
    2. 역할은 대체 가능함
    3. 책임을 수행하는 방법은 선택 가능 (동일 요청에 다른 방식 응답 - 다형성)
    4. 하나가 여러 역할 수행 가능
- 객체의 덕목 2가지: 협력적, 자율적
- 협력은 메시지를 통해 이루어진다.
- 요청을 표현하는 메시지와, 요청을 처리하는 구체적 방법인 메서드를 분리하는 것은 자율성을 높이는데에 도움이 되고, 캡슐화(encapsulation)와 관련이 깊다.
- 객체지향은 클래스들의 정적인 관계나 구조, 메서드가 아니라 객체의 역할, 책임, 협력 에 집중해야 한다.


## 2. 이상한 나라의 객체

- 객체지향 패러다임의 목적은 현실 세계 모방이 아니라, 현실 세계를 기반으로 새로운 세계를 창조하는 것
- 객체는 상태(state), 행동(behavior), 식별자(identifier) 를 갖는다.
- 객체의 정의: 식별 가능한 개체 또는 사물. 구체적인 사물일 수도 있고, 시간처럼 추상적잉ㄴ 개념일 수도 있다. 객체는 구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태를 가진다. 소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드를 통해 구현된다.
- 상태
    - 상태를 이용해서 과거의 동작을 생각하지 않고 현재를 기반으로 객체의 행동 방식을 이해한다. 복잡성을 완화하고 인지 과부하를 줄여주는 개념이 된다.
    - 상태는 스스로의 행동에 의해서만 변경되는 것을 보장한다 -> 객체의 자율성을 유지한다.
- 행동
    - 객체의 행동은 상태에 영향을 받는다. (상호작용이 현재의 상태에 어떤 방식으로 의존하는가)
    - 객체의 행동은 상태를 변경시킨다. (상호작용이 어떻게 현재의 상태를 변경시키는가)
    - 행동이란 외부의 요청 또는 수신 메시지에 응답하기 위해 동작하고 반응하는 활동.
    - 행동은 객체 자신의 상태를 변경하거나, 협력하는 다른 객체에 메시지를 전달할 수 있다.
- 객체의 행동을 유발하는 것은 외부에서 온 메시지이지만, 객체의 상태를 변경하는 여부는 객체 스스로 정한다. -> 객체의 자율성, 지능이 높아진다 -> 협력은 유연하고 간결해진다.
- 식별자
    - 불변한 값들은 동등성을 확인 (equality)
    - 가변의 값들은 동일성을 확인 (identical)
    - 객체는 어떤 상태에 있어라도 유일하게 식별되도록 한다.
- 객체를 기계로 바라보는 관점은 상태/행동/식별자 에 대한 이해를 높이고, 캡슐화와 메시지를 통한 협력 관계를 잘 설명한다.
- 좋은 객체를 만들기 위해서는 상태보다는 행동에 우선 초점을 맞추어야 한다.    
    -> 애플리케이션에 필요한 협력을 생각하고, 그에 필요한 행동을 생각하고, 행동 수행 객체를 선택한다.

- “행동이 상태를 결정한다.”
- 객체지향은 현실 세계의 단순 모방, 추상화 가 아니고 특성이 전혀 다르다.
    - 현실의 수동적인 것들이 소프트웨어 객체로 구현될 때는 능동적으로 변한다. (의인화)
    - 현실 속 객체의 의미 일부가 소프트웨어 객체로 전달 된다. (은유)
      
- 이상한 나라를 창조하라.


## 3. 타입과 추상화

- 지하철노선도 추상화의 예시: 불필요한 사실관계 정보를 버리고, 필요한 것에 집중하여 추상화한다.
- 추상화: 어떠한 것을 더 명확하게 이해하기 위해서 부분을 의도적으로 생략하거나 감춤 -> 복잡도 극복
    1. 구체적 사물들 간의 공통점을 취하고 차이점을 버려서 일반화 한다.
    2. 중요한 부분을 강조하기 위해 불필요한 세부 사항들을 제거하여 단순화 한다. 
       
- 객체는 특정 개념이 적용 가능한 구체적인 사물 -> 개념이 객체에 적용되면 객체를 개념의 인스턴스라 할 수 있다. 
  
- 객체 추상화 시에 객체 분류 방식으로 쓰이는 개념(concept)의 3가지 관점 
  - 심볼: 개념의 명칭이나 이름 (ex. 트럼프)
  - 내연: 개념의 완전한 정의 (ex. 몸이 납작, 두손 두발이 네모 귀퉁이에)
  - 외연: 개념에 속하는 모든 객체의 집합 set (ex. 정원사, 병사, 왕, 여왕 etc)
    
- 타입: 객체들을 묶기 위한 틀 (객체 분류 방식으로서의 개념과 완전히 동일한 정의)
   - 데이터가 어떻게 사용되느냐에 관한 것 (어떤 데이터에 어떤 연산자?)
   - 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 모른다.
   - 타입은 데이터를 표현할 수 있다.
   
- 타입은 데이터가 아니라 행동에 따라서 결정된다. (같은 타입은 동일한 행동)
    - 데이터가 달라도, 동일한 메시지를 수신하고 처리한다 (다형성)
    - 데이터 내부 표현방식과 무관하고 행동만이 고려대상이다. -> 외부에 데이터를 감춰야 한다. (캡슐화)
- 적절한 순서
  - 객체가 외부에 제공해야하는 행동을 먼저 생각한다.
  - 그 책임을 수행하는 데 적합한 데이터를 나중에 결정한다.
  - 데이터를 책임을 수행하는 데 필요한 외부 인터페이스 뒤로 캡슐화 한다.
  
- 타입과 타입 사이의 일반화/특수화 (Generalization/Specialization)
  - 포괄적인 내용으로 범위가 커지면 일반화
  - 세부적인 내용으로 범위가 좁아지면 특수화
  - 중요한 것은 일반화/특수화 관계를 결정하는 것이 상태 데이터가 아니라 행동 이라는 것
  - 일반적인 타입은 특수한 타입에 비해 더 적은 수의 행동을 갖는다.
  - 일반적인 타입(supertype), 특수한 타입(subtype)
- 타입의 목적
  - 타입은, 시간에 따라 동적으로 변하는 객체의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다.
  - 타입은 추상화. 객체의 동적인 특성을 추상화한다. 시간에 따른 상태 변경이라는 복잡성을 단순화 한다.

- 객체를 분류하는 기준은 타입.
- 타입을 나누는 기준은 객체가 수행하는 행동.
- 객체를 분류하기 위해 타입을 정하고, 타입을 구현하는 방법 중 하나가 클래스.

